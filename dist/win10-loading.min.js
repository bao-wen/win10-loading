!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):t.win10Loading=i()}(this,function(){"use strict";var i=function(){for(var t=document.createElement("div").style,i=["webkitTransform","MozTransform","OTransform","msTransform","transform"],e=i.length;e--;)if(void 0!==t[i[e]])return i[e]}();function b(t,i){for(var e in i)t[e]=i[e];return t}function T(t,i){var e=document.createElement(t),n=i.styles;for(var s in n)e.style[s]=n[s];return e.innerHTML=i.inner||"",e}function s(t){t.style.display="none"}function d(t){this.ele.style[i]="rotate("+t+"deg)"}function r(){}function o(t){this.levelList=t,this.length=t.length,this.mask=1}function a(t){var i,e,n,s=t.relative,o="BODY"===s.nodeName,a=t.width,r=t.ballWidth,l=0,h=t.total,c=[],u=document.createDocumentFragment(),f=t.color,d={styles:{position:"relative",width:a+"px",height:a+"px"}},p={styles:{position:"absolute",width:"100%",height:"100%",display:"none"}},m='<div style="position:absolute;bottom:0;left:50%;border-radius:50%;width:'+r+"px;height:"+r+"px;margin:-"+r/2+"px 0 0 -"+r/2+"px;";if(n=f,"[object Array]"==Object.prototype.toString.call(n))for(;f.length<h;l++)f.push(f[l]);else for(e=f,f=[];l<h;l++)f.push(e);o&&b(d.styles,{position:"fixed",top:"50%",left:"50%",zIndex:"1000",transform:"translate(-50%,-50%)","-ms-transform":"translate(-50%,-50%)"});var v=T("div",d);for(u.appendChild(v),l=0;l<h;l++)i=T("div",b(p,{inner:m+"background:"+f[l]+';"/>'})),v.appendChild(i),c.push(i);return s.appendChild(u),c}b(o.prototype,{start:function(){if(1&this.mask){var n=this;this.mask=6,function t(){for(var i=(new Date).getTime(),e=0;e<n.length;e++)n.levelList[e].next(i);n.timer=setTimeout(t,15)}()}},pause:function(){if(2&this.mask){this.mask=5,clearTimeout(this.timer);var i=(new Date).getTime();this.levelList.forEach(function(t){t.pause(i)})}},stop:function(){4&this.mask&&(this.mask=1,clearTimeout(this.timer),this.levelList.forEach(function(t){t.init(function(){s(this.ele)})}))}});var n=[],l=n.slice,p=.1;function m(t,i,e,n,s,o,a){this.ele=t,this.bT=i,this.eT=e,this.cb=[],this.mani=a||r,this.tFn=o?function(t){var i=l.call(arguments,1);return function(){return t.apply(null,i.concat(l.call(arguments)))}}(o,n,s-n,e-i):r}function v(t,i){this.ele=t,this.ind=0,this.sT=0,this.eUL=i,this.pT=0,this.sTSave=0,this.len=i.length}function y(t,i,e,n){return i*n/e+t}function g(t,i,e,n){return i*(n/=e)*n+t}function w(t,i,e,n){return i*Math.sqrt(1-(n=n/e-1)*n)+t}return b(m.prototype,{do:function(t){this.mani(this.tFn(t-this.bT))},pushCallback:function(t,i,e){this.cb.push({fn:t,one:i,args:n.concat(e)})},execCallback:function(){var t,i,e=this.cb.length;for(t=0;t<e;t++)this.cb[t].one?(i=this.cb[t].splice(t,1),t--):i=this.cb[t].fn,i.apply(this,this.cb[t].args)}}),b(v.prototype,{next:function(t){if(0===this.sT){if(!this.pT)return this.sT=t,void this.eUL[0].do(0);this.sT=t-this.pT+this.sTSave,this.pT=0}var i=t-this.sT;this.ind<this.len&&(i>this.eUL[this.ind].eT&&(this.eUL[this.ind].execCallback(),this.ind++),this.eUL[this.ind]&&this.eUL[this.ind].do(i))},addCallback:function(t,i,e,n){return t<this.len&&this.eUL[t].pushCallback(i,e,n),this},init:function(t){this.sT=0,this.ind=0,t&&t.call(this)},pause:function(t){this.sTSave=this.sT,this.sT=0,this.pT=t}}),function(t){var i,u={width:100,ballWidth:6,color:"#000",interval:150,total:5,relative:document.body};"object"==typeof t&&(u.width=t.width||80,u.ballWidth=t.ballWidth||3,u.color=t.color||"#000",t.relative&&(1===t.relative.nodeType&&(u.relative=t.relative),"string"==typeof t.relative&&(u.relative=document.getElementById(t.relative)||document.body)));var e=a(u),f=2*Math.asin(u.ballWidth/2/(u.width/2-u.ballWidth/2))*90;(i=e.map(function(t,i){var e=i*u.interval,n=170-i*f,s=1200+(180-n)/p+80*i,o=180-2*i,a=s+600,r=520-i*f,l=3100+(180-n)/p+80*i,h=540-2*i,c=l+500;return new v(t,[new m(t,0,e),new m(t,e,1200,0,n,w,d),new m(t,1200,s,n,o,y,d),new m(t,s,a,o,360,g,d),new m(t,a,3100,360,r,w,d),new m(t,3100,l,r,h,y,d),new m(t,l,c,h,680,g,d)])})).forEach(function(t,i){t.addCallback(0,function(){console.log(i),this.ele.style.display="block"}).addCallback(6,function(){s(this.ele)})});var n=i[u.total-1];return n.eUL.push(new m(n.ele,0,5e3)),n.len++,n.addCallback(n.len-1,function(){i.forEach(function(t){t.init()}),n.ind--}),new o(i)}});